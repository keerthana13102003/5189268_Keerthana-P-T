#include<stdio.h>
#include<stdlib.h>

int g[100005][100],h[100005],b[100005],v[100005];
int f,s,r,e,t,w,d;

void dfs(int e,int n){
    b[e]=1;
    v[r]++;
    for(int w=0;w<h[e];w++){
        int d=g[e][w];
        if(!b[d])dfs(d,n);
    }
}

int main(){
    scanf("%d",&f);
    while(f--){
        int n,m,cl,cr;
        scanf("%d%d%d%d",&n,&m,&cl,&cr);
        for(int i=1;i<=n;i++){
            h[i]=0;
            b[i]=0;
        }
        for(int i=0;i<m;i++){
            int x,y;
            scanf("%d%d",&x,&y);
            g[x][h[x]++]=y;
            g[y][h[y]++]=x;
        }
        long long ans=0;
        if(cl<=cr){
            ans=(long long)n*cl;
        }else{
            r=0;
            for(int i=1;i<=n;i++){
                if(!b[i]){
                    v[r]=0;
                    dfs(i,n);
                    ans+=(long long)cl+(long long)(v[r]-1)*cr;
                    r++;
                }
            }
        }
        printf("%lld\n",ans);
    }
}
